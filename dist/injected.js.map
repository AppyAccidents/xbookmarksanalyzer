{
  "version": 3,
  "sources": ["../src/injected.js"],
  "sourcesContent": ["// X Bookmarks Interceptor\n// Injected into the main world to proxy network requests and capture Bookmark data\n\n(function () {\n    console.log('[X Interceptor] Initializing network interceptor...');\n\n    // Helper to dispatch data to content script\n    const dispatchData = (url, responseBody) => {\n        try {\n            if (!url.includes('Bookmarks')) return; // Minimal filtering\n\n            const data = JSON.parse(responseBody);\n            window.dispatchEvent(new CustomEvent('x-bookmarks-response', {\n                detail: {\n                    url,\n                    data,\n                    timestamp: Date.now()\n                }\n            }));\n        } catch (e) {\n            // Ignore parse errors or non-JSON responses\n        }\n    };\n\n    // 1. Intercept XMLHttpRequest\n    const XHR = XMLHttpRequest.prototype;\n    const open = XHR.open;\n    const send = XHR.send;\n\n    XHR.open = function (method, url) {\n        this._url = url;\n        return open.apply(this, arguments);\n    };\n\n    XHR.send = function (postData) {\n        this.addEventListener('load', function () {\n            if (this._url && (this._url.includes('Bookmarks') || this._url.includes('bookmarks'))) {\n                dispatchData(this._url, this.responseText);\n            }\n        });\n        return send.apply(this, arguments);\n    };\n\n    // 2. Intercept Fetch\n    const originalFetch = window.fetch;\n    window.fetch = async function (...args) {\n        const response = await originalFetch.apply(this, args);\n\n        // Clone response to read body without consuming it\n        const clone = response.clone();\n        const url = clone.url;\n\n        if (url && (url.includes('Bookmarks') || url.includes('bookmarks'))) {\n            clone.text().then(body => {\n                dispatchData(url, body);\n            }).catch(() => { });\n        }\n\n        return response;\n    };\n\n    console.log('[X Interceptor] Interceptor active.');\n})();\n"],
  "mappings": ";;;;;;;AAAA;AAAA;AAGA,OAAC,WAAY;AACT,gBAAQ,IAAI,qDAAqD;AAGjE,cAAM,eAAe,CAAC,KAAK,iBAAiB;AACxC,cAAI;AACA,gBAAI,CAAC,IAAI,SAAS,WAAW;AAAG;AAEhC,kBAAM,OAAO,KAAK,MAAM,YAAY;AACpC,mBAAO,cAAc,IAAI,YAAY,wBAAwB;AAAA,cACzD,QAAQ;AAAA,gBACJ;AAAA,gBACA;AAAA,gBACA,WAAW,KAAK,IAAI;AAAA,cACxB;AAAA,YACJ,CAAC,CAAC;AAAA,UACN,SAAS,GAAG;AAAA,UAEZ;AAAA,QACJ;AAGA,cAAM,MAAM,eAAe;AAC3B,cAAM,OAAO,IAAI;AACjB,cAAM,OAAO,IAAI;AAEjB,YAAI,OAAO,SAAU,QAAQ,KAAK;AAC9B,eAAK,OAAO;AACZ,iBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,QACrC;AAEA,YAAI,OAAO,SAAU,UAAU;AAC3B,eAAK,iBAAiB,QAAQ,WAAY;AACtC,gBAAI,KAAK,SAAS,KAAK,KAAK,SAAS,WAAW,KAAK,KAAK,KAAK,SAAS,WAAW,IAAI;AACnF,2BAAa,KAAK,MAAM,KAAK,YAAY;AAAA,YAC7C;AAAA,UACJ,CAAC;AACD,iBAAO,KAAK,MAAM,MAAM,SAAS;AAAA,QACrC;AAGA,cAAM,gBAAgB,OAAO;AAC7B,eAAO,QAAQ,kBAAmB,MAAM;AACpC,gBAAM,WAAW,MAAM,cAAc,MAAM,MAAM,IAAI;AAGrD,gBAAM,QAAQ,SAAS,MAAM;AAC7B,gBAAM,MAAM,MAAM;AAElB,cAAI,QAAQ,IAAI,SAAS,WAAW,KAAK,IAAI,SAAS,WAAW,IAAI;AACjE,kBAAM,KAAK,EAAE,KAAK,UAAQ;AACtB,2BAAa,KAAK,IAAI;AAAA,YAC1B,CAAC,EAAE,MAAM,MAAM;AAAA,YAAE,CAAC;AAAA,UACtB;AAEA,iBAAO;AAAA,QACX;AAEA,gBAAQ,IAAI,qCAAqC;AAAA,MACrD,GAAG;AAAA;AAAA;",
  "names": []
}
